<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>6AD Auto Recharge</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <svg width="24" height="24" viewBox="0 0 40 40" fill="none">
          <circle cx="20" cy="20" r="18" fill="#52B788"/>
          <path d="M16 12C16 12 12 14 12 20C12 26 16 28 16 28" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
          <circle cx="22" cy="20" r="6" fill="white"/>
          <circle cx="22" cy="20" r="3" fill="#52B788"/>
        </svg>
        <span class="logo-text">6AD Recharge</span>
      </div>
      <label class="toggle">
        <input type="checkbox" id="enableToggle" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>

    <!-- Status Bar -->
    <div class="status-bar" id="statusBar">
      <span class="status-dot" id="statusDot"></span>
      <span class="status-text" id="statusText">Checking...</span>
    </div>

    <!-- Config Section -->
    <div class="section" id="configSection">
      <div class="field">
        <label>API URL</label>
        <input type="text" id="apiUrl" placeholder="https://api.6ad.in">
      </div>
      <div class="field">
        <label>API Key</label>
        <input type="password" id="apiKey" placeholder="ext_xxxxxxxx...">
      </div>
      <button class="btn btn-primary" id="saveBtn">Save & Connect</button>
    </div>

    <!-- Info Cards -->
    <div class="info-grid" id="infoGrid" style="display:none;">
      <div class="info-card">
        <div class="info-label">FB Profile</div>
        <div class="info-value" id="fbProfile">-</div>
      </div>
      <div class="info-card">
        <div class="info-label">Ad Accounts</div>
        <div class="info-value" id="adAccounts">0</div>
      </div>
      <div class="info-card">
        <div class="info-label">Last Heartbeat</div>
        <div class="info-value" id="lastHeartbeat">-</div>
      </div>
      <div class="info-card">
        <div class="info-label">FB Token</div>
        <div class="info-value" id="fbToken">-</div>
      </div>
    </div>

    <!-- Error Banner -->
    <div class="error-banner" id="errorBanner" style="display:none;">
      <span id="errorText"></span>
    </div>

    <!-- Activity Log -->
    <div class="section" id="activitySection" style="display:none;">
      <div class="section-header">
        <span>Recent Activity</span>
        <button class="btn-icon" id="refreshBtn" title="Force heartbeat">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6M23 20v-6h-6"/>
            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
          </svg>
        </button>
      </div>
      <div class="activity-list" id="activityList">
        <div class="activity-empty">No activity yet</div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <span class="footer-text">v1.0.0</span>
      <span class="footer-text">Open Facebook to capture token</span>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
